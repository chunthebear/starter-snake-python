(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(42)},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),c=n(12),o=n(16),l=n(17),u=n(11),s=n(25),h=n.n(s),d="up",p="head",m="tail",f="body";function v(e){!function(e){e.Turn=e.Turn||0;var t=!0,n=!1,a=void 0;try{for(var r,i=e.Snakes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var c=r.value,o=!0,l=!1,u=void 0;try{for(var s,h=c.Body[Symbol.iterator]();!(o=(s=h.next()).done);o=!0){var d=s.value;d.X=d.X||0,d.Y=d.Y||0}}catch(b){l=!0,u=b}finally{try{o||null==h.return||h.return()}finally{if(l)throw u}}}}catch(b){n=!0,a=b}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}var p=!0,m=!1,f=void 0;try{for(var v,g=e.Food[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var y=v.value;y.X=y.X||0,y.Y=y.Y||0}}catch(b){m=!0,f=b}finally{try{p||null==g.return||g.return()}finally{if(m)throw f}}}(e);var t,n=y(e.Snakes);return{turn:e.Turn,snakes:n,food:(t=e.Food,t.map(k)),gameOver:j(e)}}function g(e){var t=h()(e);for(var n in t.snakes){var a=t.snakes[n];a.headSvg=null,a.tailSvg=null,a._id=null}return t}function y(e){return e.map(b)}function b(e){return{body:e.Body.map(function(t,n){return function(e,t){var n=e.Body[t],a=function(e,t){var n=e.Body.length-1,a=e.Body[0],r=e.Body[n],i=e.Body[t];if(0===t)return!0;if(t===n)return!(a.X===i.X&&a.Y===i.Y);var c=e.Body[t-1];return!(r.X===i.X&&r.Y===i.Y)&&!(c&&c.X===i.X&&c.Y===i.Y)}(e,t),r=function(e,t){if(0===t)return p;if(t===e.Body.length-1)return m;return f}(e,t),i=k(n),c=i.x,o=i.y;return{direction:E(r,e,n),shouldRender:a,type:r,x:c,y:o}}(e,n)}),color:e.Color,_id:e.ID,name:e.Name,health:e.Health,isDead:!!e.Death,death:w(e.Death),head:e.HeadType&&e.HeadType.toLowerCase(),tail:e.TailType&&e.TailType.toLowerCase(),headSvg:e.HeadSvg,tailSvg:e.TailSvg}}function w(e){if(e)return{cause:e.Cause,turn:e.Turn||0}}function k(e){return{x:e.X,y:e.Y}}function E(e,t,n){var a;if("head"===e)a=function(e){return e.Body.length>1?O(e.Body[1],e.Body[0]):d}(t);else{var r=Object(l.a)(new Set(t.Body.map(function(e){return"".concat(e.X,",").concat(e.Y)}))).findIndex(function(e){return e==="".concat(n.X,",").concat(n.Y)});a=O(t.Body[r],t.Body[Math.max(r-1,0)])}return a}function O(e,t){return e.X<t.X?"right":t.X<e.X?"left":e.Y<t.Y?"down":"up"}function j(e){var t=y(e.Snakes);return 0===t.length||(1===t.length?!!t[0].death:function(e){return e.filter(function(e){return!e.death}).length<=1}(t))}function x(e){if(window.parent)try{window.parent.postMessage(e,"*")}catch(t){console.error(t)}}function S(e){var t=e.split("=");return{key:t[0],value:void 0===t[1]||decodeURIComponent(t[1])}}function z(e){if(!e)return"";var t="?",n="";for(var a in e){var r=e[a];n+="".concat(t).concat(a,"=").concat(r),t="&"}return n}function T(e){var t={http:"ws",https:"wss"};for(var n in t){var a=t[n];if(e.substr(0,n.length+1)===n+":")return a+e.substr(n.length)}throw new Error("Invalid URL: "+e)}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(e,t){var n=e.replace(/\/+$/,""),a=t.replace(/^\/+/,"");return""===n?a:""===a?n:"".concat(n,"/").concat(a)}(e,t)},"")}var C=n(4),R=n(5),F=n(7),H=n(6),P=n(8),_=n(3),B=n(1),G=function(e){function t(){return Object(C.a)(this,t),Object(F.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"To run a game you need to specify engine and game parameters in the URL. For example:",r.a.createElement("pre",null,window.location.origin,"?engine=<ENGINE_URL>&game=<GAME_ID>"))}}]),t}(r.a.Component),L="#ff5c75",A="#fefefe",I="#f1f1f1",V="#bbb",X="#efefef",Y="#222",U="#6f42c1",D="#fff",K="#f1f1f1",N="#f8f9fa",q="768px",W="992px",J="1200px",Q="dark",$="light",Z=Object(B.a)("div")({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"}),ee=function(e){function t(){return Object(C.a)(this,t),Object(F.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(Z,null,r.a.createElement("div",{className:"la-ball-grid-beat la-dark la-2x",style:{color:L}},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(r.a.Component),te=.15,ne=.1,ae=20,re=4,ie=(ae/3.25).toFixed(2);function ce(e){return(ae+re)*e+re}function oe(e){var t="left"===e.direction||"right"===e.direction?re:0;return ae+t}function le(e){var t="up"===e.direction||"down"===e.direction?re:0;return ae+t}function ue(e){var t="left"===e.direction?-re:0;return ce(e.x)+t}function se(e){var t="up"===e.direction?-re:0;return ce(e.y)+t}function he(e,t){if(e.isDead){if(t)return e._id===t?1:0}else if(t)return e._id===t?1:te;return e.isDead?ne:1}function de(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}var pe=function(e){function t(){return Object(C.a)(this,t),Object(F.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"renderPart",value:function(e,t,n,a,r){switch(n.type){case"head":return this.renderHeadPart(e,t,n,r);case"tail":return this.renderTailPart(e,t,n,r);default:return function(e,t){if(0===t||t===e.body.length-1)return!1;var n=e.body[t+1],a=e.body[t];return(n.x!==a.x||n.y!==a.y)&&n.direction!==a.direction}(e,a)?this.renderCornerPart(e,t,n,a,r):this.renderMiddlePart(e,t,n,a,r)}}},{key:"renderHeadPart",value:function(e,t,n,a){var i=function(e){switch(e.direction){case"left":case"right":default:return ce(e.x)}}(n),c=function(e){switch(e.direction){case"up":case"down":default:return ce(e.y)}}(n),o=e.headSvg.viewBox.baseVal,l=function(e,t){var n=t.width/2,a=t.height/2;switch(e){case"left":return"rotate(180 ".concat(n," ").concat(a,")");case"up":return"rotate(-90 ".concat(n," ").concat(a,")");case"down":return"rotate(90 ".concat(n," ").concat(a,")");default:return""}}(n.direction,o),u="".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height);return r.a.createElement("svg",{key:"part"+t+",head",viewBox:u,x:i,y:c,width:ae,height:ae,fill:e.color,opacity:he(e,a),shapeRendering:"optimizeSpeed"},r.a.createElement("g",{transform:l,dangerouslySetInnerHTML:{__html:e.headSvg.innerHTML}}))}},{key:"renderMiddlePart",value:function(e,t,n,a,i){return n.shouldRender?r.a.createElement("rect",{key:"part".concat(t,",").concat(n.x,",").concat(n.y),x:ue(n),y:se(n),width:oe(n),height:le(n),fill:e.color,opacity:he(e,i),shapeRendering:"optimizeSpeed"}):r.a.createElement("svg",{key:"part"+t+","+a})}},{key:"renderCornerPart",value:function(e,t,n,a,i){if(!n.shouldRender)return r.a.createElement("svg",{key:"part".concat(t,",").concat(n.x,",").concat(n.y),shapeRendering:"optimizeSpeed"});var c,o;switch(n.direction){case"left":case"right":c="0 0 120 100";break;case"up":case"down":default:c="0 0 100 120"}switch(function(e,t){if(0===t||t===e.body.length-1)return!1;var n=e.body[t+1],a=e.body[t];return"".concat(a.direction," ").concat(n.direction)}(e,a)){case"down left":o="scale(-1,1) translate(-100, 0)";break;case"left down":o="rotate(90,0,0) translate(0,-120)";break;case"right down":o="rotate(90,0,0) scale(1,-1)";break;case"up right":o="scale(1,-1) translate(0,-120)";break;case"up left":o="scale(-1,-1) translate(-100,-120)";break;case"right up":o="rotate(-90,0,0) translate(-100,0)";break;case"left up":o="rotate(-90,0,0) scale(1,-1) translate(-100,-120)"}return r.a.createElement("svg",{key:"part".concat(t,",").concat(n.x,",").concat(n.y),x:ue(n),y:se(n),width:oe(n),height:le(n),opacity:he(e,i),fill:e.color,viewBox:c,shapeRendering:"optimizeSpeed"},r.a.createElement("path",{d:"M0,0 h40 a60,60 0 0 1 60,60 v80 h-100 z",transform:o}))}},{key:"renderTailPart",value:function(e,t,n,a){var i=function(e){switch(e.direction){case"left":return ce(e.x)-re;case"right":return ce(e.x)+re;default:return ce(e.x)}}(n),c=function(e){switch(e.direction){case"up":return ce(e.y)-re;case"down":return ce(e.y)+re;default:return ce(e.y)}}(n),o=e.tailSvg.viewBox.baseVal,l=function(e,t){var n=t.width/2,a=t.height/2;switch(e){case"right":return"rotate(180 ".concat(n," ").concat(a,")");case"down":return"rotate(-90 ".concat(n," ").concat(a,")");case"up":return"rotate(90 ".concat(n," ").concat(a,")");default:return""}}(n.direction,o),u="".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height);return n.shouldRender?r.a.createElement("svg",{key:"part"+t+",tail",viewBox:u,x:i,y:c,width:ae,height:ae,fill:e.color,opacity:he(e,a),shapeRendering:"optimizeSpeed"},r.a.createElement("g",{transform:l,dangerouslySetInnerHTML:{__html:e.tailSvg.innerHTML}})):r.a.createElement("svg",{key:"part"+t+",tail"})}},{key:"renderGrid",value:function(){var e=this,t=this.props.snakes||[],n=this.props.food||[],a=t.concat().sort(function(e,t){return(e.isDead?0:1)-(t.isDead?0:1)}),i=ce(this.props.columns),c=ce(this.props.rows);return r.a.createElement("svg",{width:this.props.maxWidth,height:this.props.maxHeight,x:this.props.x,y:this.props.y,viewBox:"0 0 ".concat(i," ").concat(c)},de(this.props.rows).map(function(t,n){return de(e.props.columns).map(function(t,a){return r.a.createElement("rect",{key:"cell"+n+","+a,x:ce(a),y:ce(n),width:ae,height:ae,fill:e.props.theme===Q?"#ddd":K,opacity:e.props.theme===Q?.75:null,shapeRendering:"optimizeSpeed"})})}),a.map(function(t,n){return t.body.map(function(a,r){return e.renderPart(t,n,a,r,e.props.highlightedSnake)})}),n.map(function(e,t){return r.a.createElement("circle",{key:"food"+t,cx:ce(e.x)+ae/2,cy:ce(e.y)+ae/2,r:ie,fill:L,shapeRendering:"optimizeQuality"})}))}},{key:"render",value:function(){return this.props.snakes?this.renderGrid():void 0}}]),t}(r.a.Component),me=function(e){function t(){return Object(C.a)(this,t),Object(F.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100)},r.a.createElement(pe,{snakes:this.props.snakes,food:this.props.food,columns:this.props.columns,rows:this.props.rows,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme,maxWidth:100,maxHeight:100,x:0,y:0}))}}]),t}(r.a.Component),fe=n(2),ve=n.n(fe),ge=n(9);function ye(e,t){var n=!1;return new Promise(function(a,r){var i=new WebSocket(e);i.addEventListener("message",function(e){var r=JSON.parse(e.data);(n=t(r))&&(i.close(),a())}),i.addEventListener("onerror",function(e){r(e)}),i.addEventListener("onclose",function(e){n||(n=!0,a())})})}var be={};function we(e){return be[e]}function ke(e){return e in be?Promise.resolve(be[e]):function(e){return Ee.apply(this,arguments)}(e)}function Ee(){return(Ee=Object(ge.a)(ve.a.mark(function e(t){var n,a,r;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return a=e.sent,r=Oe(a),be[t]=r,e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Oe(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}var je="regular",xe="regular";function Se(){return(Se=Object(ge.a)(ve.a.mark(function e(t,n){var a;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+z(n));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ze(e){return new Promise(function(t){return setTimeout(t,e)})}function Te(e){var t=e.reduce(function(e,t){return e.concat([t.HeadType,t.TailType])},[]),n=new Set(t);return Array.from(n)}function Me(e){var t=!0,n=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var c=r.value;c.HeadType||(c.HeadType=je),c.TailType||(c.TailType=xe),c.HeadType=Pe(c.HeadType),c.TailType=_e(c.TailType)}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}function Ce(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(ge.a)(ve.a.mark(function e(t){var n,a,r,i,c,o;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Me(t),e.next=3,l=Te(t),Promise.all(l.map(ke));case 3:for(n=!0,a=!1,r=void 0,e.prev=6,i=t[Symbol.iterator]();!(n=(c=i.next()).done);n=!0)(o=c.value).HeadSvg=we(o.HeadType),o.TailSvg=we(o.TailType);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),a=!0,r=e.t0;case 14:e.prev=14,e.prev=15,n||null==i.return||i.return();case 17:if(e.prev=17,!a){e.next=20;break}throw r;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}var l},e,this,[[6,10,14,22],[15,,17,21]])}))).apply(this,arguments)}function Fe(e){return e.indexOf("/")>=0||e.indexOf(".")>=0}function He(e,t){return M(e,t)+".svg"}function Pe(e){return He("images/snake/head",Fe(e)?je:e)}function _e(e){return He("images/snake/tail",Fe(e)?xe:e)}function Be(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(ge.a)(ve.a.mark(function e(t){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(t.Snakes);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Le(e,t){return function(e,t){return Se.apply(this,arguments)}(M(e,"games/".concat(t)))}function Ae(e,t,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(ge.a)(ve.a.mark(function e(t,n,a){var r,i,c,o;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return i=i.then(Object(ge.a)(ve.a.mark(function t(){return ve.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be(e);case 2:return t.abrupt("return",a(r,e));case 3:case"end":return t.stop()}},t,this)}))),j(e)},e.next=3,Le(t,n);case 3:return r=e.sent,i=Promise.resolve(),o=M(T(t),"socket/".concat(n)),e.next=8,ye(o,c);case 8:return e.next=10,i;case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ve(e,t){return e.filter(function(e){return e.turn===t})[0]}function Xe(){var e=Object(_.a)(["\n  margin-bottom: 0.5rem;\n  padding-bottom: 1rem;\n  width: 100%;\n\n  @media (min-width: ",") {\n    margin-bottom: 1rem;\n  }\n"]);return Xe=function(){return e},e}var Ye=Object(B.a)("div")(Xe(),W),Ue=Object(B.a)("span")({display:"block",paddingBottom:"0.5rem"}),De=Object(B.a)("div")({width:"100%",height:"1.8rem",background:A,borderRadius:"1.5rem"}),Ke=Object(B.a)("div")(function(e){return{height:"100%",backgroundColor:e.color,borderRadius:"inherit"}}),Ne=Object(B.a)("div")(function(e){return{height:"100%",padding:".2rem .5rem",fontSize:"1.2rem",backgroundColor:e.theme===Q?V:I,borderRadius:"inherit",color:Y}}),qe=function(e){function t(){return Object(C.a)(this,t),Object(F.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(Ye,null,r.a.createElement(Ue,null,this.props.snake.name),r.a.createElement(De,null,this.props.snake.death?r.a.createElement(Ne,{theme:this.props.theme},function(e){switch(e){case"snake-collision":return"Collided with snake body";case"snake-self-collision":return"Collided with own body";case"starvation":return"Starvation";case"head-collision":return"Head on head collision";case"wall-collision":return"Collided with a wall";default:return e}}(this.props.snake.death.cause)):r.a.createElement(Ke,{color:this.props.snake.color,style:{width:"".concat(this.props.snake.health,"%")}})))}}]),t}(r.a.Component);function We(){var e=Object(_.a)(["\n  transition: background-color 0.2s, box-shadow 0.2s;\n  box-shadow: ",";\n\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return We=function(){return e},e}function Je(){var e=Object(_.a)(["\n  display: none;\n  padding-right: 2rem;\n  color: ",";\n  font-weight: 700;\n  font-size: 1.4rem;\n\n  @media (min-width: ",") {\n    display: ",";\n    font-size: 1.8rem;\n  }\n\n  @media (min-width: ",") {\n    font-size: 2.2rem;\n  }\n"]);return Je=function(){return e},e}var Qe=Object(B.a)("div")(Je(),function(e){return e.theme===Q?X:Y},q,function(e){return e.hide?"none":"block"},J),$e=Object(B.a)("div")(We(),function(e){return e.highlighted?"0 0 0 1px ".concat(X):null},function(e){return e.theme===Q?U:N}),Ze=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).state={highlightedSnake:null},n.toggleHighlight=function(e){var t=function(e,t){return e.highlightedSnake!==t._id?t._id:null};n.props.highlightSnake(t(n.state,e)),n.setState(function(n){return{highlightedSnake:t(n,e)}})},n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this,t=this.state.highlightedSnake;return r.a.createElement(Qe,{theme:this.props.theme},this.props.snakes?function(e){var t=e.filter(function(e){return!e.isDead}).sort(function(e,t){var n=e.name.toLowerCase(),a=t.name.toLowerCase();return n<a?-1:n>a?1:0}),n=e.filter(function(e){return e.isDead}).sort(function(e,t){return e.death.turn-t.death.turn}).reverse();return t.concat(n)}(this.props.snakes).map(function(n,a){return r.a.createElement($e,{key:"avatarwrapper"+a,onClick:function(){return e.toggleHighlight(n)},highlighted:t===n._id,theme:e.props.theme},r.a.createElement(qe,{snake:n,key:"avatar"+a,theme:e.props.theme}))}):void 0)}}]),t}(r.a.Component),et=n(27),tt=n.n(et);function nt(){var e=Object(_.a)(["\n  display: inline-block;\n  min-width: 3rem;\n  text-align: center;\n  background: transparent;\n  color: ",";\n  font-size: 1.4rem;\n  border: none;\n  text-decoration: none;\n  text-align: center;\n  cursor: pointer;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: #ccc;\n    cursor: not-allowed;\n  }\n"]);return nt=function(){return e},e}function at(){var e=Object(_.a)(["\n  position: absolute;\n  bottom: 2.5rem;\n  right: 2.5rem;\n  width: 20rem;\n  padding: 1rem;\n  border: solid 1px #999;\n  background: #fff;\n\n  @media (min-width: ",") {\n    left: 2.5rem;\n    right: 0;\n  }\n\n  h4 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n"]);return at=function(){return e},e}function rt(){var e=Object(_.a)(["\n  margin: 0;\n  padding: 1rem;\n  height: 3rem;\n  width: 3rem;\n  background: #dfdfdf;\n  border-radius: 50%;\n  line-height: 0.5;\n  text-align: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return rt=function(){return e},e}function it(){var e=Object(_.a)(["\n  display: ",";\n  margin-top: 1rem;\n  width: 100%;\n"]);return it=function(){return e},e}var ct=Object(B.a)("div")(it(),function(e){return e.hide?"none":"block"}),ot=Object(B.a)("div")({position:"relative",marginLeft:"1rem"}),lt=Object(B.a)("div")(rt()),ut=Object(B.a)("div")(at(),q),st=Object(B.a)("div")({display:"flex",justifyContent:"center",width:"100%",marginBottom:"2rem"}),ht=Object(B.a)("button")(nt(),function(e){return e.theme===Q?"#eee":"#333"}),dt=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).state={paneHidden:!0},n.handleParentKeyboardEvent=function(e){var t=e.data.code;n.handleKeyEvent(n.keyboardCodeMap[t])},n.toggleTheme=function(){n.props.toggleTheme()},n.handleReload=function(){n.props.reloadGame()},n.handlePlayPause=function(){n.props.toggleGamePause()},n.handleBackward=function(){n.props.stepBackwardFrame()},n.handleForward=function(){n.props.stepForwardFrame()},n.handleShortcutPaneShowToggle=function(){n.setState({paneHidden:!n.state.paneHidden})},n.handleKeyEvent=function(e){switch(e){case"r":n.handleReload();break;case"left":n.handleBackward();break;case"right":n.handleForward();break;case"space":n.handlePlayPause()}},n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentWillMount",value:function(){this.keyboardCodeMap={KeyR:"r",ArrowLeft:"left",ArrowRight:"right",Space:"space"}}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleParentKeyboardEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleParentKeyboardEvent)}},{key:"render",value:function(){return this.renderControls()}},{key:"renderControls",value:function(){var e=this.props,t=e.currentFrame,n=e.hideControls,a=e.paused,i=e.theme;return r.a.createElement(ct,{hide:n},r.a.createElement(st,null,r.a.createElement(ht,{onClick:this.toggleTheme,theme:i},"Toggle Theme"),r.a.createElement(ht,{onClick:this.handleReload,disabled:0===t.turn||!a,theme:i},"Reload"),r.a.createElement(ht,{onClick:this.handlePlayPause,theme:i},a?"Play":"Pause"),r.a.createElement(ht,{onClick:this.handleBackward,disabled:0===t.turn||!a,theme:i},"Backward"),r.a.createElement(ht,{onClick:this.handleForward,disabled:!a,theme:i},"Forward"),r.a.createElement(tt.a,{handleKeys:Object.values(this.keyboardCodeMap),onKeyEvent:this.handleKeyEvent}),r.a.createElement(ot,null,r.a.createElement(lt,{onClick:this.handleShortcutPaneShowToggle},"?"),!this.state.paneHidden&&r.a.createElement(ut,null,r.a.createElement("h4",null,"Keyboard shortcuts"),r.a.createElement("ul",null,r.a.createElement("li",null,"Reload = r"),r.a.createElement("li",null,"Play/Pause = space"),r.a.createElement("li",null,"Backward = left arrow"),r.a.createElement("li",null,"Forward = right arrow"))))))}}]),t}(r.a.Component);function pt(){var e=Object(_.a)(["\n  > path {\n    fill: ",";\n  }\n"]);return pt=function(){return e},e}function mt(){var e=Object(_.a)(["\n  height: 100%;\n  width: 100%;\n\n  > svg {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n  }\n"]);return mt=function(){return e},e}var ft=Object(B.a)("div")(mt()),vt=Object(B.a)(function(e){return r.a.createElement(ft,null,r.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 503 184"},e),r.a.createElement("path",{d:"M305.5 102.7h-36.1v-71H253v71h-36.2v-71h-27L178.2.7h146.5l-.7 31h-18.5zm-33-3h30v-71H321l.6-25h-139l9.3 25h28v71h30v-71h22.6zm226 84.5l-133.3-72.5 34.2-34.8L365.9.3l134-.1V13l-22 15.5L502.5 50h-60.8L459 87.3 439.6 107zm-128.2-73.3l117 63.7-51.8-67.8 19.8-20.1-18.5-39.8h57.4l-21.3-18.7 24-16.8V3.2l-126.3.2L403 77.6zm87-87a7.3 7.3 0 1 1 7.3-7.2 7.3 7.3 0 0 1-7.3 7.2zm0-11.5a4.2 4.2 0 1 0 4.2 4.3 4.2 4.2 0 0 0-4.2-4.3z"}),r.a.createElement("path",{d:"M134.8 104l-27.2-27.6 32-76.4h34.8l43 102.7h-39.3l-5.3-13.3h-32.5zm45.4-4.4h32.5L172.3 3.1h-30.7l-30.4 72.6 22.4 22.7 4.6-12H175zM167.9 66h-22.5l11.3-30zm-18-3h13.6l-6.8-18.2zm219.6 39.7h-42.3V30.3l.7-29.6h35.3V66h28l4.7 10.7zm-39.3-3h38l24-23.8-3-6.9h-29V3.8h-29.4l-.6 26.6z"}),r.a.createElement("path",{d:"M3.9 184.2L62.8 107 43.4 87.3 60.7 50H0l24.7-21.5L2.4 13V.2l59.3.1h74.7L103 77l34.2 34.8-1.8 1zm43.2-97.5l19.7 20-51.6 68 117-63.7-32.8-33.3.4-1 32-73.3H5.5v8l24 16.9L8.2 46.9h57.5zm-2-62.8a7.3 7.3 0 1 1 7.2-7.3 7.3 7.3 0 0 1-7.3 7.3zm0-11.5a4.2 4.2 0 1 0 4.1 4.2 4.2 4.2 0 0 0-4.2-4.2zM210.7 118a.2.2 0 0 1-.2 0v-.1a.2.2 0 0 1 .2.2zm4.6-45.5a49.2 49.2 0 0 0 3.5 7.6l1.4 2.6-3.3-9.7a1.1 1.1 0 0 0-1.6-.6z"}),r.a.createElement("path",{d:"M223.2 94.4a1 1 0 0 0-1.2-.3l-.4-.7c-2.9-3.3-5.7-6.8-8.8-10a1 1 0 0 0-.5.8l-.5 3a2 2 0 0 0 0 .3l-1.7 11a1.1 1.1 0 0 0 .6 1.1 5.5 5.5 0 0 1-.7 1.8l.3 5v3.4a1.2 1.2 0 0 0 0 .4v.5a.7.7 0 0 0-.1.1 1.2 1.2 0 0 0 0 .4c0 .1-.1 0 0 .1v.6c0 .2 0 0 0 0a2 2 0 0 1 0 .6v1.3s-.1 0 0 0a1 1 0 0 1 0 .2v.2a.4.4 0 0 0 0 .3s-.2.1 0 .2-.1 0 0 0l-.2 1.3v1.2h.1c.1 0 0 0 0 .2a.5.5 0 0 1 0 .2.5.5 0 0 1 .2.1v.3c0 .1 0 0 0 0h.4c.2 0 0 0 0 0h.1v1a30 30 0 0 1-1.4 7.2l-.5 1.1a148.2 148.2 0 0 0-6.2-17.1l-.4-2.2c.1-.2.3-.2.5-.2a2.7 2.7 0 0 1-.4-.9 3 3 0 0 1 0-.5 1 1 0 0 0-.1-.4 2.6 2.6 0 0 0-.4-.4v-.3a.2.2 0 0 1 .2 0c.2 0 .3-.1.3-.5a12.4 12.4 0 0 0-.9-2c-.6-4.5-1.2-9-1.6-13.5a1.1 1.1 0 0 0-1.2-1l-.2-.7a1.1 1.1 0 0 0-.4-.5l-.5.4a96 96 0 0 1-11.6 12.7l-2.1 3.4a1.2 1.2 0 0 0-.1.1 1.9 1.9 0 0 1 1.3 1.4 1.1 1.1 0 0 0 .6-.5l.6-.7q-1.1 6-2.4 11.8l-2 9a45.2 45.2 0 0 0-1.5 8.7.4.4 0 0 0 .4.4 391 391 0 0 1-1 4.7.9.9 0 0 0-.4 1 11 11 0 0 0 1.9 3.8l1.4 2.5 2.2 3.4a20.3 20.3 0 0 0 2.4 2.9 7.1 7.1 0 0 0 1 .8 65.3 65.3 0 0 1 3.2 6.1 1.1 1.1 0 0 0 2-.2l4.2-23.4.3.6a.9.9 0 0 1 1.5-.2v-1.4a.8.8 0 0 1 1.7 0v.7a.7.7 0 0 1 .6.4 35 35 0 0 0 3.4 5.2.8.8 0 0 1 1.3.2c.8 1.6 1.9 3 2.7 4.6a.8.8 0 0 1-.1 1 24 24 0 0 1 3.2 3l2.3 1.9a1.3 1.3 0 0 0 1.2.2c1 1.3 1.8 2.6 2.7 4a1.1 1.1 0 0 0 2-.6c.8-6.2 1.7-12.6 1.9-18.9a7.3 7.3 0 0 1 .8-1.3c0-1.3 0-2.8.2-4.5l.5-4.5 1.6-13.3c.5-3.4 1-6.9 1.3-10.4.2-3.1-1.6-5.2-3.5-7.7zM191.7 155l-.8-1.6a1 1 0 0 0 .2-.1 1.5 1.5 0 0 1 1-.4zm.5-2.5a.4.4 0 0 0-.2-.2c-.1 0-.1-.2 0-.4h.3l-.1.5zm4.9-59v-.8l.1-.6.4 1.5a1.2 1.2 0 0 0-.5 0zm1.4 6l-.3-1v-.3c0-.1 0 0 0 0a1 1 0 0 0 .3.6l.2 1zm5.7 19.8l-.9-4.3a403.2 403.2 0 0 1 1.5 4.5.6.6 0 0 0-.6-.2zm1.2 4.4v.8l-.5-2v-1a13.3 13.3 0 0 1 .8 1.7.5.5 0 0 0-.3.5zm1.2 4.4l-.2-.2a.7.7 0 0 0 .2-.3zm-.2-2.5a14 14 0 0 1 .2 1.6 11.9 11.9 0 0 1-.2-1.5zm.3 5l-.3-1.4a3.9 3.9 0 0 0 .5.2.5.5 0 0 0 .7-.4 12 12 0 0 0 0-1.6l.4 1.4a13.1 13.1 0 0 1-1.3 1.8zm4-16.5a6.3 6.3 0 0 0 0 1.3 3 3 0 0 0 0 .7v1.1c0 .2 0 0 0 0v.1a.1.1 0 0 1 0-.1 2.3 2.3 0 0 1 0-.8v-2.1s.1 0 0 0v-.8a.2.2 0 0 0 0-.2v-.4c0-.1.1 0 0-.1v-.1a2 2 0 0 0 0-.2V109.2l.1 1.8.2 3.3h-.3zm7.9 36.6v-1.5a1.4 1.4 0 0 0 .2-.2zm2.8-53.6a.7.7 0 0 0 0-.2V96.6a1.5 1.5 0 0 0 0-.2v-.1c0-.1-.1 0 0-.1v1zm2.8 7.4l-.7 5.4v-4.6a.4.4 0 0 0 0-.1 6.3 6.3 0 0 0 0-2.4 6 6 0 0 1 .4-1.7l-.5-1v-2l.7 1.2c.8 1.5.3 3.5.1 5.2zm166.2-37.2a1 1 0 0 0-1-.7 1 1 0 0 0-.7 1.9 4 4 0 0 1-.4.2 1.1 1.1 0 0 0-.7-.3h-.3a.6.6 0 0 0-.8-.5h-.2a.6.6 0 0 0-.5-.3c-3.3.4-6.4 1.9-9.4 3.2l-2 .8a.7.7 0 0 0-1-.4 8 8 0 0 0-1.1.7.6.6 0 0 0-.6-.1 175 175 0 0 0-14 6.2l-1.5.4-4.9 1.5a23.2 23.2 0 0 0-5 1.7.8.8 0 0 0 0 1.5 107.2 107.2 0 0 1-11 4.1 1 1 0 0 0 .5 1.9l-.6.5a6.8 6.8 0 0 0-1.5 2.5l.4 1a1 1 0 0 0 0 .3c-.3 8.4 0 17 .3 25.4l-.8.2a55.5 55.5 0 0 1-9.1 1.6 52.4 52.4 0 0 1-5.5.2 1.1 1.1 0 0 0-.7-.6l-.5-.2-3.6-2.7a36.7 36.7 0 0 1-3.5-4.5v-.2a11.1 11.1 0 0 1 1-1.2l.8-1.1a4 4 0 0 0 .7-1.3 28.7 28.7 0 0 1 2.6-3.3 130.6 130.6 0 0 0 9.5-11 27 27 0 0 0 2.2-3.2 11.6 11.6 0 0 1 .2-1.8c0-.5.2-1 .3-1.4a4.2 4.2 0 0 0-1-1.7 6 6 0 0 0-1.3-.8l-1.3-.7a4.1 4.1 0 0 1-1.3-1.2 2.7 2.7 0 0 1-1.9-.7c-.5-.4-1-.9-1.7-1.3a18.3 18.3 0 0 0-1.5 1.3 8.6 8.6 0 0 1-1.7 1.2c0 .4.2.6.4.6s.3.2.4.5l-.8-.1a1.5 1.5 0 0 0-1 .2 458 458 0 0 1-8.2 9.7 29 29 0 0 0-3.5 5l-1.5 2-1.7 2.3-1 1.2V103l.2-4.6-.2-7.6a11 11 0 0 0-1.2-5.2l.3-4a1 1 0 0 0-1.6-1 1.1 1.1 0 0 0-1.9-1l-1.9 2.6q-2.1 1.5-4 3.2c-3.4-.5-3.9 2.6-3.9 5.3a1 1 0 0 0 0 1.1v1.5l.1 4.1a6.5 6.5 0 0 1-.7 2.3 53.3 53.3 0 0 1 .2 7.6l-.2 4.7-2-2.2-12.6 4.8-1 .2a3.9 3.9 0 0 0-.8.4 2.7 2.7 0 0 0-.8 0 28.6 28.6 0 0 1-1.9-3.5l-1.7-4-1.1-2.8-1.3-2.8-1-3.2-.2-.3c-.3-3.5-2.5-6.3-4.3-9.3l-.5-1.1-1.3 1.6 1 1.8-1-.2v-.2a.8.8 0 0 0-.4-.6.8.8 0 0 0 0-.1l-1 1.6a2 2 0 0 1-2.7.7l-5.3-2.6a6 6 0 0 0-.9-.3l-5 11-.5.3a18.5 18.5 0 0 0-1 3l-.2.5-1.4 3a1.1 1.1 0 0 0 .3 1.4l-.1.6a27.3 27.3 0 0 1-1 2.7 2.3 2.3 0 0 0 0 .8 2.3 2.3 0 0 0 .3.6l-.7 3-.7 2.8-.3 1.6v.1c0 .1 0 0 0 0v.4c-.2 0 0 .1-.2.2s0 .1 0 .2a1.1 1.1 0 0 1 0 .3v.5c0 .1-.2.1 0 .1 0 .2 0 .4-.2.6v.4c0 .1 0 .1 0 0a2 2 0 0 1 0 .3V124.6c.1.1 0 0 0 0v.5c0 .1-.1 0 0 .1v.8a.6.6 0 0 1-.1.2l-.1.5v.1l-.4 1.6q-1 4.2-1.6 8.8l.2 1.4-.7.9 1 .7a.4.4 0 0 1 0 .2v.1c0 .1-.1 0 0 .1v.4s-.1 0 0 0v.2a.4.4 0 0 0 0 .2v.3a1.2 1.2 0 0 1 0 .1v.2c0 .3 0 .5-.2.6h.1v2.1c0 .1 0 0 0 0v.2c0 .2 0 0 0 0v.5c0 .1 0 0 0 0v1.5a13 13 0 0 0 0 2 .1.1 0 0 1 0 .2h-.1a2.6 2.6 0 0 1 0 .7V148.9h-.1a4.6 4.6 0 0 0 0-1 2 2 0 0 0 0-.5 2.1 2.1 0 0 1 0-.3v-.4a2 2 0 0 1 0-.5v-.7a.5.5 0 0 0 0-.1v-.1.9-.2h-.2v.3a2.9 2.9 0 0 0 0 .7 1.4 1.4 0 0 1 0 .3v2.4a.1.1 0 0 1 0 .2.3.3 0 0 0 0 .1v.1a.1.1 0 0 0 .1.1.2.2 0 0 1 0 .2.1.1 0 0 1 0 .1h.1a1.3 1.3 0 0 0 0 .5h-.9v-.4a.2.2 0 0 0 0-.1v-.1a1.5 1.5 0 0 1 0-.5v-.6.3l.1.2c.1 0 0-.2 0-.2v.4a2.9 2.9 0 0 0 .1.3v.1a.7.7 0 0 1 0 .3 1 1 0 0 1 0 .3v.1l.1-.1c.1-.1 0 0 0 0v-.2a.2.2 0 0 1 0 .2c.1 0 0 .2 0 .2a3.4 3.4 0 0 0 .2.8v.1a.7.7 0 0 1 0 .4h.2c-.1 0 0-.2 0-.2v-.1l.1.1c.1 0 0 0 0 .1a3.4 3.4 0 0 1 0-.5s.2 0 0 0 .1 0 0-.2v-.3a4.5 4.5 0 0 0 .9 1.9 2.9 2.9 0 0 0 3 1.1 51.1 51.1 0 0 0 5.8 5.3c.6.5 2 .3 1.9-.8-.7-5.6.5-11.1 1.5-16.6a50.6 50.6 0 0 0 .9-7.6l.1-2.7a25.8 25.8 0 0 0 2.3 4.6c.7.9 2.3.4 2-.8a.9.9 0 0 0 0-.2 84.8 84.8 0 0 1 8.5-3.5l2.3-.7 1 3 .2.4a1.7 1.7 0 0 1 1.5.5l.1.1a131.4 131.4 0 0 1 3.1 15 .5.5 0 0 0 .9.3c1.3-1.4 1.7-3.5 2.3-5.4l2.2-4.8a9.2 9.2 0 0 0 .6-.7 10.7 10.7 0 0 0 1.6-3l.3-.6.4-.5a.4.4 0 0 0-.1-.6 12.8 12.8 0 0 0 .2-1.3l.1-.4v-.3a19.2 19.2 0 0 0 .5-2.2 1.1 1.1 0 0 0-1.4-1.3l-.8-2.3a5.3 5.3 0 0 1-.5-1l-.3-1c1.1-.8 4.8-.5 5.6-1.5a73 73 0 0 1 6.8-3.5c.1 1.2.2 8.4.4 9.5a6.3 6.3 0 0 1-.5.4c-.2.1-.2.3 0 .7l.3.3.5.6v.2a2.7 2.7 0 0 1-.7.3 1.4 1.4 0 0 0 0 1 8.7 8.7 0 0 0 .6.8 4 4 0 0 1 .3.5l.1 1.1a2.4 2.4 0 0 1-.1.2l.1.1c.3 2.5.7 5 .8 7.5l-.2 1a1.2 1.2 0 0 0 .2.9 24 24 0 0 1-.2 3.4l-.6 1c-.7 1.2 1 2.5 1.8 1.5a1.1 1.1 0 0 0 .7-.6l1.2-2-.7 1.6c-.7 1.3 1.3 2.5 2 1.2l3.6-7.3a3.5 3.5 0 0 0 .5 0 8.8 8.8 0 0 0 2.9-4 49 49 0 0 0 1.5-5l.6-2 3-6a9.8 9.8 0 0 0 2.1 1.5 49.7 49.7 0 0 0 9.7 3 11.7 11.7 0 0 0 1.2.4 2.3 2.3 0 0 0 .6 0l2.3.5a.6.6 0 0 0 .2.2 19 19 0 0 0 3.9.5 20.3 20.3 0 0 0 4.5 0l1.8-.3c1.9 0 4-.3 5.3-.5l.2 3a1.4 1.4 0 0 0-.2.4 4.3 4.3 0 0 0 .8 4.4v.1l-.1 1.3c0 1.5-.3 4.3 1 5.4a1.6 1.6 0 0 0 .1.2c.2 1.3.5 2.8 2 2.9a13.6 13.6 0 0 0 3.4-.8l4.5-1.2 5.7-1.4a57.8 57.8 0 0 0 7.2-1.4c2-.5 4-1.3 5.8-2l7.2-1.9c1.3-.3 1-2.4-.3-2.3a24.2 24.2 0 0 0-4.5 1 20.3 20.3 0 0 0 4-1.7 8.8 8.8 0 0 0 1.6-1 23.4 23.4 0 0 1 .9-5.6l.9-3a2.5 2.5 0 0 0-.6-.8 1.5 1.5 0 0 1-1.3-.2 9.5 9.5 0 0 1-1-1l-1.3-1a3 3 0 0 0-1.3-.9 16.6 16.6 0 0 1-3.8 1.5 9 9 0 0 0-3.5 1.8 25.8 25.8 0 0 0-4.2.6l-3.2.8q-1.5.5-3.3.8a6.3 6.3 0 0 1-2.5-.4v-9.4a6.2 6.2 0 0 0 1.8 0 4.4 4.4 0 0 1 2.2.1 2.3 2.3 0 0 1 1.7-.5 2.8 2.8 0 0 0 1.4-.2l.6-.1a.6.6 0 0 0 .3 0h.6a9.4 9.4 0 0 0 3.4-.8l.3-.2c.4 0 .9-.2 1.3-.4l.2-.1a1.1 1.1 0 0 0 2 .2 1 1 0 0 0 1-1l-.1-2c0-.2.2-.3.3-.4l2.1-2.4a3.9 3.9 0 0 0-.1-1.8 6.8 6.8 0 0 0-.8-1.5 2.1 2.1 0 0 1-1.4-.2c0-1.1 0-2.2.2-3.4a1 1 0 0 0-.3-.8 1.2 1.2 0 0 0-1.9-.1v.3a1 1 0 0 0-.3 0 1.2 1.2 0 0 0-1.2-.4l-2.7.7-4.2.8a30.4 30.4 0 0 1-6.2.8c-.2-.3 1.3-6.5 1.2-7v-.3c3.2-1.4 6.3-3.2 9.4-4.7q6-2.7 12.1-5l9.3-3.4a.8.8 0 0 1 .4-1.1 58.1 58.1 0 0 1 6-2.1c.4-.2 1.2-.6 2-.8l.4-1.4a9.8 9.8 0 0 1-1.2.2 6.3 6.3 0 0 1-1.4.1 1.1 1.1 0 0 1-.8-1.8.8.8 0 0 0 .3.3 1.1 1.1 0 0 0 .4.1h.1c-.2 0 0 0 0 0a.8.8 0 0 0 .5 0h.1a1.7 1.7 0 0 0 .3-.1 1.4 1.4 0 0 0 .7-1.2 1 1 0 0 0-.8-1 1 1 0 0 0-1 .6 1 1 0 0 0-.6 1 9.4 9.4 0 0 1-1.5.3c-1.2 0-1.4-1.4-.6-2a11.6 11.6 0 0 1 2-1 1.2 1.2 0 0 1 0-1.4 11 11 0 0 1-1.4.3 1.4 1.4 0 0 1-1.4-.7h.1a3.3 3.3 0 0 0 1.5.1c1 .5 2.2-.7 2-1.8a2 2 0 0 0-1.6-1.3 3.4 3.4 0 0 0-.5 0 96 96 0 0 1 3.3-1.8.9.9 0 0 0 .5-.2l1.8-1 3.7-1.8.7-.4.6-1.5-4.8 1.9zm-150 89l-1.2-1.3a1 1 0 0 0 1-.8l.1-.5a.6.6 0 0 0 .2 0v2.5zm8.5-22.5l-.5-1 .7.1h1.2a13.8 13.8 0 0 0-1.4 1zm3.5-13.3l-4.4.9a5.3 5.3 0 0 1-.8.2 5 5 0 0 0-1 .2l.6-1.7.7-1.6a39.9 39.9 0 0 1 1.6-4.5 30.8 30.8 0 0 1 2.3-4.4l.2-.9a178 178 0 0 1 5 10.6 40.5 40.5 0 0 1-4.2 1.2zm10 10.3l.3-.1a7.8 7.8 0 0 1 .2 1.3zm4.8 18.1q-.9-5.4-2.1-10.7a36.1 36.1 0 0 1 1.4 4v1.8a.5.5 0 0 0 .7.5l.7 2.5a10.1 10.1 0 0 1-.7 2zm22.6-5.8a.8.8 0 0 0-.2-.1l.2-.8a.8.8 0 0 0 .3-.1l.1.3zm14.7-17.5a1 1 0 0 1 .4.3l.6.4a7 7 0 0 1-1-.7zm34.2 16.5a4.4 4.4 0 0 1-.7-2l.6.6a6.2 6.2 0 0 1 .1 1.2zm13.7 1.9a27.8 27.8 0 0 0 3.2-.7c1.6-.4 3-.8 4.2-1.3a2.7 2.7 0 0 1 1 .1l-9.5 2.5c.3-.3.7-.5 1-.6zm6.7-64.2l-.9.2-.4.2v-.1l1.6-.5zm18-4.8a.1.1 0 0 0-.1 0l-.4.1s0 .1 0 0h-.2a.7.7 0 0 0-.1.2c0-.1-.2 0-.2 0h-.2a.7.7 0 0 0 .2-.2l.3-.1 1.4-.4zm6.1 1.7l.3-.1a.1.1 0 0 1 .1 0l-.2.2h-.1l-.2.1c-.2.1 0 0-.1 0h-.1zm1.6-6.2l-5 2.6-3.7 1.9a1 1 0 0 0 0-.7 84.8 84.8 0 0 0 10.2-4.8 1 1 0 0 0 .1.3l-1.5.7zM377.2 90zm1-.2z"}),r.a.createElement("path",{d:"M184.5 76.6l-1 1.4a1 1 0 0 0-1.3-.5l-.4.2a1.1 1.1 0 0 0-.5-1 .8.8 0 0 0-.1-1 .8.8 0 0 0-.4-1 1.6 1.6 0 0 0-1-.3.8.8 0 0 0-.3-.9l2-1.2a1 1 0 0 1 0-.4 3 3 0 0 1 1-1l-3.5 2.4a1.7 1.7 0 0 0-1 .1 1.1 1.1 0 0 0-.8 0 1 1 0 0 0-.7 1l-5 3-.2.1a2 2 0 0 0-.5 0 2 2 0 0 0-1.2 1l-3.3 2.2a26.6 26.6 0 0 0-4.4 3l-1.4.7 1-.8c3.4-2.5 7.1-5 10.3-7.7.6-.6-.2-1.6-1-1.2a94.6 94.6 0 0 0-11 7.4l-10.6 8c-7 5.2-14 10.6-20.4 16.4a1 1 0 0 0-.4.7 17.3 17.3 0 0 0-4.2 3.5v.1c.7 4.8 4.2 8.4 6.4 12.7a110.5 110.5 0 0 1 14.3 3q2.3.6 4.5 1.4a12.5 12.5 0 0 1 4.3 2c2 1.8 1.7 4.7 1 7.2a43.9 43.9 0 0 1-6 5.6l-7.5 3.7-6.4 3.5a2 2 0 0 1 0 .3l-3.5 1.4a68.3 68.3 0 0 0-7.7 3.1.8.8 0 0 0 .3 1.6.8.8 0 0 0 .8 1.1 36.4 36.4 0 0 0 6.5-2.7l.4-.2c-4.9 4.3-10.5 7.7-16 11.3-2.2 1.5-4.5 3-6.7 4.7a.8.8 0 0 1 .2.2 74.2 74.2 0 0 1 11.4-6.5c.9-.4 1.8.7 1 1.3-2 1.9-4.5 3.4-6.3 5.5l.7-.2h.3l.1-.2.4-.1a38.7 38.7 0 0 1 5-2.9 1.3 1.3 0 0 1 1.6.7 2.4 2.4 0 0 0 .2-.2.6.6 0 0 0 .2 0l1.5-.7-1.9 1a.8.8 0 0 1-.3 1l-.3.1a11.7 11.7 0 0 0 1.4-.7l.6-.3c.8-.6 1.6.6 1 1.2 2.7-1.5 5.4-2.9 8.2-4.2a.9.9 0 0 0 0 .6l-.5.3a.5.5 0 0 0 .3 1 62.6 62.6 0 0 0 6.3-2l4.4-2.6.6-.4a9 9 0 0 1 2.3.1.5.5 0 0 0 .7-.5 2.7 2.7 0 0 1 0-.6c-.2.4.4 1 .8.5a9.1 9.1 0 0 1 1.3-1.2 36.4 36.4 0 0 0 6.5-3.5 17.7 17.7 0 0 0 3.2-1.9l1.9-1.4a33.8 33.8 0 0 0 2.8-2l.9-.7a13.9 13.9 0 0 0 2.2-1.7 19 19 0 0 1 2-1.5.5.5 0 0 0 .3-.6l.8-1.4a25.9 25.9 0 0 0 2.8-6.7 21.4 21.4 0 0 0 .6-7.7 10.7 10.7 0 0 0-1.2-4l-1-2.1c-.7-1.1-1.2-2.4-2-3.3a23.8 23.8 0 0 0-5.3-5 33 33 0 0 0-6.7-3.3c-2.3-.9-5.4-1.2-7.3-2.6a1.1 1.1 0 0 1-.3-.4l13.8-9c5.6-3.7 11.5-7.3 17-11.4l3.7-2a2.7 2.7 0 0 0 0-.2 1.9 1.9 0 0 1-1.3-1.6 2 2 0 0 1-.7-1.3.8.8 0 0 0 .3-.1 6.8 6.8 0 0 0 1.4-3.6 1 1 0 0 0 1.5-.3l.1-.8a1 1 0 0 0-1-1l1-2a.9.9 0 0 0-1.6-1zm-36.8 47.9a1.2 1.2 0 0 0-.2.2l-2.8-.8 1.8.3 1.4.2zm-10.2 40.4l1.3-.7a63.7 63.7 0 0 1-1.3.7zm16.3-8.6l-.3.3-.6.2.1-.1zm7.7-27a4 4 0 0 1 .1 3 11.9 11.9 0 0 0-.1-3zm4.6 19.8l-1.3 1-.6.4.4-.5 1.5-1zM147.2 160l-1.1.6h-.3l1.4-.5zm2-15.1a3 3 0 0 1 .4-.2l.3-.2h.3a2.7 2.7 0 0 0 .4-.2h.2a.6.6 0 0 1 .2-.1l-.3.2h-.1c-.2.2-.5.2-.7.3a2.8 2.8 0 0 1-.4.2l-.5.2zm13.5-16.6l-.2.9a6.5 6.5 0 0 0-1.3-1.1zm-4.8-2a9.2 9.2 0 0 1 .7 1.4 9.2 9.2 0 0 0-1-1.1 1.7 1.7 0 0 0 .3-.4zm-.9 11.2l1-1.4-.8 1.2-.2.2zm-1.6-10a13 13 0 0 1 .4 1.4 6.6 6.6 0 0 0-1.5-1.4 8.6 8.6 0 0 0 1-.1zm-2.8-4.3a5 5 0 0 1 .5.4l-1.5-.6zm24-39a1.4 1.4 0 0 1-1.4-.8h.1a1.1 1.1 0 0 0 .3-.6.9.9 0 0 0 0-.3.7.7 0 0 0 .2-.2.9.9 0 0 0 0-1 1 1 0 0 0 .7-.3 1.1 1.1 0 0 0 .2-.4l.5-.2a2.3 2.3 0 0 0-.6 1 .7.7 0 0 0 .7.9 1 1 0 0 0 .1 1 1 1 0 0 0 1.2.2 1.4 1.4 0 0 0 .3-.1l.2-.1.3-.2a1 1 0 0 0 .5.5 18.8 18.8 0 0 1-3.2.5zm4.5-4a2.4 2.4 0 0 1-.1.3v.1a1.1 1.1 0 0 0 0 .2 1 1 0 0 0-.2-.4l.5-.4a.9.9 0 0 0-.2.2zm1.3-.5a1 1 0 0 0-.3.1 1 1 0 0 0-.5 0l1-.5zm4.8-6.8l-.1-.1a1 1 0 0 0-.8-.5 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .5.8v.1a1 1 0 1 0 1.4-1.3z"})))})(pt(),function(e){var t=e.color,n=e.theme;return t||(n===Q?D:U)});function gt(){var e=Object(_.a)(["\n  display: none;\n  width: 35vw;\n  margin-left: 2rem;\n\n  @media (min-width: ",") {\n    display: ",";\n  }\n"]);return gt=function(){return e},e}function yt(){var e=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: ",") {\n    width: ",";\n  }\n"]);return yt=function(){return e},e}function bt(){var e=Object(_.a)(["\n  width: 100%;\n  height: 5rem;\n\n  @media (min-width: ",") {\n    height: 8rem;\n  }\n"]);return bt=function(){return e},e}function wt(){var e=Object(_.a)(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n  background: ",";\n  background: ",";\n"]);return wt=function(){return e},e}var kt,Et=Object(B.a)("div")(wt(),function(e){return e.theme===Q?U:"transparent"},function(e){return e.theme===Q?"linear-gradient(45deg, #000 0%, ".concat(U," 100%)"):"transparent"}),Ot=Object(B.a)("div")({display:"flex",justifyContent:"space-between",width:"100%",height:"100%"}),jt=Object(B.a)("div")({display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem",paddingRight:"1rem",textAlign:"center"}),xt=Object(B.a)("div")(bt(),W),St=Object(B.a)("div")(function(e){return{fontSize:"1.4rem",color:e.theme===Q?X:Y}}),zt=Object(B.a)("div")(yt(),q,function(e){return e.hideScoreboard?"100%":"65vw"}),Tt=Object(B.a)("div")(gt(),q,function(e){return e.hide?"none":"block"}),Mt=function(e){function t(){return Object(C.a)(this,t),Object(F.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.options;e.game&&e.engine?(this.hideScoreboard="true"===e.hideScoreboard,this.props.setGameOptions(e),this.props.fetchFrames()):this.invalidArgs=!0}},{key:"render",value:function(){var e=this.props.currentFrame;return this.invalidArgs?r.a.createElement(G,null):e?this.renderGame():r.a.createElement(ee,null)}},{key:"renderGame",value:function(){var e=this.props,t=e.currentFrame,n=e.options;return r.a.createElement(Et,{theme:this.props.theme},r.a.createElement(Ot,null,r.a.createElement(zt,{hideScoreboard:this.hideScoreboard},r.a.createElement(me,{snakes:t.snakes,food:t.food,columns:this.props.grid.width,rows:this.props.grid.height,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme}),r.a.createElement(dt,{currentFrame:t,hideControls:"true"===n.hideMediaControls,toggleTheme:this.props.toggleTheme,reloadGame:this.props.reloadGame,toggleGamePause:this.props.toggleGamePause,stepBackwardFrame:this.props.stepBackwardFrame,stepForwardFrame:this.props.stepForwardFrame,paused:this.props.paused,theme:this.props.theme})),!this.hideScoreboard&&r.a.createElement(Tt,null,r.a.createElement(jt,null,r.a.createElement(xt,null,r.a.createElement(vt,{theme:this.props.theme})),r.a.createElement(St,{theme:this.props.theme},"Turn: ",t.turn)),r.a.createElement(Ze,{turn:t.turn,snakes:t.snakes,food:t.food,highlightSnake:this.props.highlightSnake,theme:this.props.theme}))))}}]),t}(r.a.Component),Ct=function(e){return{type:"SET_THEME",theme:e}},Rt=function(e,t){return{type:"RECEIVE_FRAME",game:e,frame:t}},Ft=function(e){return{type:"SET_CURRENT_FRAME",frame:e}},Ht=function e(t){return function(){var n=Object(ge.a)(ve.a.mark(function n(a,r){var i,c,o,l,u,s,h,d,p,m,f,v,g;return ve.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=r().gameOptions.frameRate,c=r().frames.slice(),o=c.indexOf(t),l=c.slice(o),u=Math.ceil(i||20),s=1e3/u,h=!0,d=!1,p=void 0,n.prev=9,m=l[Symbol.iterator]();case 11:if(h=(f=m.next()).done){n.next=21;break}if(v=f.value,!r().paused){n.next=15;break}return n.abrupt("return");case 15:return a(Ft(v)),n.next=18,ze(s);case 18:h=!0,n.next=11;break;case 21:n.next=27;break;case 23:n.prev=23,n.t0=n.catch(9),d=!0,p=n.t0;case 27:n.prev=27,n.prev=28,h||null==m.return||m.return();case 30:if(n.prev=30,!d){n.next=33;break}throw p;case 33:return n.finish(30);case 34:return n.finish(27);case 35:(g=l[l.length-1]).gameOver?r().paused||a({type:"GAME_OVER"}):a(e(g));case 37:case"end":return n.stop()}},n,this,[[9,23,27,35],[28,,30,34]])}));return function(e,t){return n.apply(this,arguments)}}()},Pt=(kt=window.location.search)&&kt.length?kt.substr(1).split("&").map(S).reduce(function(e,t){return e[t.key]=t.value,e},{}):{},_t=Object(o.b)(function(e){return{options:Pt,grid:e.grid,paused:e.paused,currentFrame:e.currentFrame,frames:e.frames,highlightedSnake:e.highlightedSnake,theme:e.theme}},function(e){return{setGameOptions:function(t){return e({type:"SET_GAME_OPTIONS",gameOptions:t})},fetchFrames:function(){return e(function(){var e=Object(ge.a)(ve.a.mark(function e(t,n){var a,r,i,c,o,l,u;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().gameOptions,r=a.autoplay,i=a.engine,c=a.game,o=a.turn,t({type:"REQUEST_FRAMES"}),e.next=4,Ae(i,c,function(e,a){if(a.Turn=a.Turn||0,t(Rt(e,a)),0===a.Turn){var r=n().frames[0];t(Ft(r))}});case 4:r&&(l=n().frames[0],t({type:"RESUME_GAME"}),t(Ht(l))),o&&o<=n().frames.length&&(u=n().frames[o],t(Ft(u)));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},toggleTheme:function(){return e(function(){var e=Object(ge.a)(ve.a.mark(function e(t,n){var a,r;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),r=a.theme,t(Ct(r===Q?$:Q));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},reloadGame:function(){return e(function(){var e=Object(ge.a)(ve.a.mark(function e(t,n){var a,r,i;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),r=a.frames,a.paused&&(i=Ve(r,0),t(Ft(i)));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},toggleGamePause:function(t){return e(function(){var e=Object(ge.a)(ve.a.mark(function e(t,n){var a,r;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),r=a.currentFrame,a.paused?(t({type:"RESUME_GAME"}),t(Ht(r))):t({type:"PAUSE_GAME"});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},stepForwardFrame:function(){return e(function(){var e=Object(ge.a)(ve.a.mark(function e(t,n){var a,r,i,c,o;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),r=a.currentFrame,i=a.frames,c=r.turn+1,(o=Ve(i,c))&&t(Ft(o));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},stepBackwardFrame:function(){return e(function(){var e=Object(ge.a)(ve.a.mark(function e(t,n){var a,r,i,c,o;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),r=a.currentFrame,i=a.frames,c=r.turn-1,(o=Ve(i,c))&&t(Ft(o));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},highlightSnake:function(t){return e(function(e){return{type:"HIGHLIGHT_SNAKE",snakeId:e}}(t))}}})(Mt),Bt=n(28),Gt={options:null,grid:[],frames:[],paused:!0,highlightedSnake:null,theme:$},Lt=Object(c.a)(Bt.a),At=Object(c.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return Object(u.a)({},e,{theme:t.theme});case"SET_GAME_OPTIONS":return t.gameOptions.autoplay=t.gameOptions.autoplay&&"true"===t.gameOptions.autoplay,t.gameOptions.turn=parseInt(t.gameOptions.turn)||0,Object(u.a)({},e,{gameOptions:t.gameOptions});case"PAUSE_GAME":case"GAME_OVER":return Object(u.a)({},e,{paused:!0});case"RESUME_GAME":return Object(u.a)({},e,{paused:!1});case"SET_CURRENT_FRAME":return x({action:t.type,frame:g(t.frame)}),Object(u.a)({},e,{currentFrame:t.frame});case"RECEIVE_FRAME":var n=v(t.frame);return Object(u.a)({},e,{grid:{height:t.game.Game.Height,width:t.game.Game.Width},frames:[].concat(Object(l.a)(e.frames),[n])});case"REQUEST_FRAMES":case"FETCH_FRAMES":return Object(u.a)({},e);case"HIGHLIGHT_SNAKE":return x({action:t.type,id:t.snakeId,name:t.snakeId?e.currentFrame.snakes.find(function(e){return e._id===t.snakeId}).name:null}),Object(u.a)({},e,{highlightedSnake:t.snakeId});default:return Object(u.a)({},e)}},Gt,Lt);Object(i.render)(r.a.createElement(o.a,{store:At},r.a.createElement(_t,null)),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.f01ac2a3.chunk.js.map